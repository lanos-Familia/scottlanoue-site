<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Scott Lanoue</title>

    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">

    <style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
    }

    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh; 
        background-color: #000000;
        color: #ffffff;
        font-family: Arial, sans-serif;
        box-sizing: border-box;
        padding: 0 1rem;
    }

    main {
        flex: 1;
    }

    ul li {
        margin-bottom: 0.5rem;
    }

    a {
        color: #80c8ff;
        text-decoration: none;
    }

    a:hover {
        color: #ffcc80;
    }

    .sync-section {
        margin-top: 2rem;
        padding-top: 1rem;
        border-top: 1px solid #333;
    }

    .sync-item {
        display: inline-block;
        margin-right: 1.5rem;
        margin-bottom: 0.5rem;
    }

    .sync-name {
        color: #888;
    }

    .sync-badge {
        font-size: 0.85rem;
        padding: 0.15rem 0.4rem;
        border-radius: 4px;
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
    }

    .sync-badge.loading {
        background: rgba(255,255,255,0.1);
        color: #888;
    }
    </style>
    </head>
    <body>

    <main>
    <h1>Hi my name is Scott Lanoue</h1>

    <p>I currently work remotely from Seattle, WA</p>

    <p>Here are my links:</p>
    <ul>
        <li><a href="https://github.com/slanos">GitHub</a></li>
        <li><a href="https://www.linkedin.com/in/scott-lanoue-238a11107/">LinkedIn</a></li>
        <li><a href="https://medium.com/@schott12521">Medium</a></li>
    </ul>

    <p>My social links (views my own):</p>
    <ul>
        <li><a href="https://bsky.app/profile/scottlanoue.com">Bsky (@scottlanoue.com)</a></li>
    </ul>

    <p>Here's some links to my projects:</p>
    <ul>
        <li>
            <a href="https://github.com/slanous/compose-cupertino">compose-cupertino</a>:
            fork of a KMP library to make cross-platform UI feel more native
        </li>
    </ul>

    <p>Here's some links to my articles:</p>
    <ul>
        <li>
            <a href="https://medium.com/@schott12521/deploy-kotlin-mutliplatform-wasmjs-to-github-pages-fe295d8b420f">
                Deploy Kotlin Mutliplatform WasmJS to Github Pages
            </a>
        </li>
    </ul>

    <p>Here's some (open source) work I've been contributing to:</p>
    <ul>
        <li>
            <a href="https://github.com/tabilzad/ktor-docs-plugin">ktor-docs-plugin</a>:
            contributed to an open source kotlin library for openapi spec generation via ktor
        </li>
        <li>
            <a href="https://github.com/nomanr/lumo-ui/pull/7">
                Adding Kotlin Multiplatform support to an Android library for Themed Component generation
            </a>
        </li>
    </ul>
    </main>

    <div class="sync-section">
        <p>Repository sync status (Tailscale internal):</p>
        <div>
            <span class="sync-item">
                <span class="sync-name">tailscale-acl</span>
                <span class="sync-direction">(Gitea→GH)</span>
                <span class="sync-badge loading" id="sync-tailscale-acl">...</span>
            </span>
            <span class="sync-item">
                <span class="sync-name">scottlanoue-site</span>
                <span class="sync-direction">(GH→Gitea)</span>
                <span class="sync-badge loading" id="sync-scottlanoue-site">...</span>
            </span>
        </div>
    </div>

    <p>Have a great day, thanks for stopping by!</p>

    <script>
    async function loadSyncStatus() {
        const repos = [
            { name: 'tailscale-acl', type: 'push' },
            { name: 'scottlanoue-site', type: 'pull' }
        ];

        for (const repo of repos) {
            const el = document.getElementById(`sync-${repo.name}`);
            if (!el) continue;

            try {
                let lastSync;

                if (repo.type === 'push') {
                    const response = await fetch(
                        `https://gitea.lobster-hake.ts.net/api/v1/repos/lanos-Familia/${repo.name}/push_mirrors`,
                        { signal: AbortSignal.timeout(5000) }
                    );
                    if (!response.ok) throw new Error('Not found');
                    const mirrors = await response.json();
                    if (mirrors && mirrors.length > 0) {
                        lastSync = new Date(mirrors[0].last_update);
                    } else {
                        const repoResponse = await fetch(
                            `https://gitea.lobster-hake.ts.net/api/v1/repos/lanos-Familia/${repo.name}`,
                            { signal: AbortSignal.timeout(5000) }
                        );
                        const repoData = await repoResponse.json();
                        lastSync = new Date(repoData.updated_at);
                    }
                } else {
                    const response = await fetch(
                        `https://gitea.lobster-hake.ts.net/api/v1/repos/lanos-Familia/${repo.name}`,
                        { signal: AbortSignal.timeout(5000) }
                    );
                    if (!response.ok) throw new Error('Not found');
                    const data = await response.json();
                    lastSync = new Date(data.mirror_updated);
                }

                const now = new Date();
                const diffMins = Math.round((now - lastSync) / 60000);

                let timeText;
                if (isNaN(diffMins) || diffMins < 0) {
                    timeText = 'pending';
                } else if (diffMins < 1) {
                    timeText = 'now';
                } else if (diffMins < 60) {
                    timeText = `${diffMins}m`;
                } else if (diffMins < 1440) {
                    timeText = `${Math.round(diffMins / 60)}h`;
                } else {
                    timeText = `${Math.round(diffMins / 1440)}d`;
                }

                el.textContent = timeText;
                el.classList.remove('loading');
            } catch (e) {
                el.textContent = 'n/a';
            }
        }
    }

    loadSyncStatus();
    </script>

    </body>
</html>
